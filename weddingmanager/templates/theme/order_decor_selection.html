{% extends 'basenonav.html' %}

{% block content %}
  <div id="theme" hx-swap-oob="true" class="col-md-9 vh-100 pt-5">
    {#  Desktop#}
    <div class="d-none d-md-block pe-0" style="margin-top: 170px">
      <div class="d-flex flex-column justify-content-center align-items-center" style="height: 50vh;">
        <div class="d-flex flex-row justify-content-around">
          {% for item in decor_items|slice:":2" %}
            <a hx-post="{% url 'theme:select-decor-items'%}"
               hx-trigger="click"
               hx-target="#theme"
               hx-include="[name='decor_item{{ item.id }}']">
              <input type="hidden" value="{{ item.id }}" name="decor_item{{ item.id }}">
              <img src="{{ item.image.url }}" class="img-fluid pb-3 mx-3" style="height: 340px;cursor: pointer;">
            </a>

          {% endfor %}
        </div>

        <div class="d-flex flex-row justify-content-around" style="height: 50vh;">
          {% for item in decor_items|slice:"2:4" %}
            <a hx-post="{% url 'theme:select-decor-items'%}"
               hx-trigger="click"
               hx-target="#theme"
               hx-include="[name='decor_item{{ item.id }}']">
              <input type="hidden" value="{{ item.id }}" name="decor_item{{ item.id }}">
              <img src="{{ item.image.url }}" class="img-fluid mx-3" style="height: 340px;cursor: pointer;">
            </a>
          {% endfor %}
        </div>
      </div>
    </div>
    {#  Mobile#}
    <div class="d-md-none container-fluid">
      {% for item in decor_items %}
        <a hx-post="{% url 'theme:select-decor-items'%}"
           hx-trigger="click"
           hx-target="#theme"
           hx-include="[name='decor_item{{ item.id }}']">
          <input type="hidden" value="{{ item.id }}" name="decor_item{{ item.id }}">
          <img src="{{ item.image.url }}" class="img-fluid w-100 py-3" style="cursor: pointer;">
        </a>
      {% endfor %}
    </div>
  </div>

  {# HX-SWAP-OBB #}

  <div id="chosen-decor" hx-swap-oob="true">
    {% for item in order.chosen_decor_items.all %}
      <div class="d-flex">
        <button
          hx-get="{% url 'theme:decorItemFile' item.id %}"
          hx-trigger="mouseenter"
          hx-target="#theme"
          class="form-control mt-2 hover-shadow d-flex justify-content-between">{{ item }}
          <a
            hx-post="{% url 'theme:delete-decor-item' %}"
            hx-include="[name='decor_item{{ item.id }}']"
            hx-target="#theme"
            class="d-flex">
            X
            <input type="hidden" value="{{ item.id }}" name="decor_item{{ item.id }}">
          </a>
        </button>
      </div>

    {% endfor %}
  </div>
  <div id="add-decor" hx-swap-oob="true">
    {% if order.chosen_decor_items.count != items.count %}
      <input
        hx-get="{% url 'theme:select-decor-items'  %}"
        hx-trigger="click"
        hx-target="#theme"
        type="button"
        class="form-control form-control-lg mt-5 text-center"
        aria-label="disabled input example"
        value="&#xFF0B;">
    {% endif %}
  </div>
{% endblock %}

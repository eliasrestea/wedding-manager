{% load static i18n %}
{% load widget_tweaks %}

<div id="services">
  <div class="mt-4 text-center mb-10">
    <button
      hx-get="{% url "planner:venueDetail" venue %}"
      hx-target="#modals-here"
      class="btn btn-primary btn-sm">
      Details
    </button>
  </div>
  <form
    hx-post="{% url 'planner:create' %}"
  >
    {% csrf_token %}
    {% for service in venue.services.all %}
      <div class="mt-5 mb-12 text-center">
        <h2>{{ service }}</h2>
        <h6>{{ service.price }} EUR</h6>
        <h6>{{ service.description }}</h6>
        <div hx-trigger="orderChanged from:body"
             class="mt-4 text-center">
          {% if not venue_chosen.service %}
            <button
              hx-post="{% url 'planner:create' %}"
              hx-include="[name='add']"
              type="button"
              class="btn btn-primary btn-sm"
            >
              <input type="hidden" value="addService" name="add">
              Adauga
            </button>
          {% else %}
            <button
              hx-post="{% url 'planner:create' %}"
              hx-include="[name='delete']"
              type="button"
              class="btn btn-light btn-outline-black btn-sm"
            >
            <input type="hidden" value="deleteService" name="delete">
              Elimina
            </button>
          {% endif %}
        </div>
      </div>
    {% endfor %}
    <div class="mt-4 mb-10 text-center">
      <h4>Alege data in care vrei sa tii evenimentul.</h4>
    </div>

    <div class="mt-3 mb-14 text-center">
      <h2>Adauga programarea</h2>
      <div class="mt-4 text-center">
        <button
          hx-include="name='id'"
          type="submit"
          class="btn btn-primary btn-lg">
          <input type="hidden" value="{{ venue.id }}" name="id">
          Submit
        </button>
      </div>
    </div>
  </form>
</div>



{# Hx-oob swapping hx-oob-target #}

<div id="venue-title" hx-swap-oob="true" class="text-center text-black"><h2>{{ venue }}</h2></div>
<div id="venue-availability" hx-swap-oob="true" class="text-center"><p>Valabil incepand cu 12 martie 2022</p></div>
<div id="venue-surface" hx-swap-oob="true" class="col-3 mx-auto">
  <h5>{{ venue.surface_area }}</h5>
  <span class="text-opacity-25">Suprafata</span>
</div>
<div id="venue-capacity" hx-swap-oob="true" class="col-3 mx-auto">
  <h5>{{ venue.capacity }}</h5>
  <span>Capacitate</span>
</div>
<div id="venue-parking" hx-swap-oob="true" class="col-3 mx-auto">
  <h5>{{ venue.parking_spaces }}</h5>
  <span>Parcare</span>
</div>
